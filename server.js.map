{"version":3,"sources":["webpack:///webpack/bootstrap b6c1405a92ff060ef876","webpack:///external \"react\"","webpack:///external \"express\"","webpack:///external \"react-router-dom\"","webpack:///external \"axios\"","webpack:///./src/models/user.js","webpack:///external \"passport\"","webpack:///./src/app/components/header.component.js","webpack:///./src/app/components/tags-selectable-list.component.js","webpack:///external \"uuid/v4\"","webpack:///./src/server.js","webpack:///external \"body-parser\"","webpack:///./src/routes/index.js","webpack:///./src/routes/api.js","webpack:///./src/routes/albums/index.js","webpack:///./src/routes/albums/all.js","webpack:///./src/routes/albums/range.js","webpack:///./src/routes/albums/single.js","webpack:///./src/routes/albums/media/index.js","webpack:///./src/routes/albums/media/all.js","webpack:///./src/routes/albums/media/range.js","webpack:///./src/routes/login/index.js","webpack:///external \"crypto\"","webpack:///./src/routes/media/index.js","webpack:///./src/routes/media/all.js","webpack:///./src/routes/media/range.js","webpack:///./src/routes/media/single.js","webpack:///./src/routes/media/tags/index.js","webpack:///./src/routes/media/tags/all.js","webpack:///./src/routes/tags/index.js","webpack:///./src/routes/tags/all.js","webpack:///./src/routes/tags/range.js","webpack:///./src/routes/tags/single.js","webpack:///./src/routes/users/index.js","webpack:///./src/routes/users/all.js","webpack:///./src/routes/users/single.js","webpack:///./src/routes/users/albums/index.js","webpack:///./src/routes/users/albums/all.js","webpack:///./src/routes/users/media/index.js","webpack:///./src/routes/users/media/all.js","webpack:///./src/routes/users/media/range.js","webpack:///./src/routes/users/tags/index.js","webpack:///./src/routes/users/tags/all.js","webpack:///./src/routes/app.js","webpack:///external \"react-dom/server\"","webpack:///./src/app/app.js","webpack:///./src/app/containers/landing.container.js","webpack:///./src/app/components/login-form.component.js","webpack:///./src/app/containers/user-home.container.js","webpack:///./src/app/components/image-tiles-list.component.js","webpack:///./src/app/components/image-tile.component.js","webpack:///./src/app/components/media-zoom.component.js","webpack:///./src/app/components/upload.component.js","webpack:///./src/app/components/tag-selectable.component.js","webpack:///./src/app/components/upload-image-tiles-list.component.js","webpack:///./src/app/components/upload-image-tile.component.js","webpack:///external \"react-virtualized\"","webpack:///./src/app/components/upload-image-details.component.js","webpack:///./src/app/components/tags.component.js","webpack:///external \"mysql\"","webpack:///external \"express-session\"","webpack:///external \"dotenv\"","webpack:///external \"passport-local\"","webpack:///external \"express-mysql-session\""],"names":["crypto","require","User","props","inputs","JSON","parse","error","id","name","email","password","salt","requiresPasswordReset","input","message","saltedInput","hash","createHash","update","digest","randomBytes","toString","saltedPass","module","exports","Header","onBtnClick","headerStyle","display","flexFlow","width","height","background","lineHeight","fontSize","paddingLeft","paddingRight","titleStyle","handleBtnClick","isAuthenticated","flex","React","Component","TagsSelectableList","tags","map","tag","description","express","app","bodyParser","routes","mysql","uuid","session","config","passport","localStrategy","Strategy","axios","use","urlencoded","extended","json","env","process","port","PORT","IS_PRODUCTION","host","DBASE_HOST_PROD","user","DBASE_USER_PROD","DBASE_PASSWORD_PROD","database","DBASE_DATABASE_PROD","connectionLimit","DBASE_HOST_DEV","DBASE_USER_DEV","DBASE_PASSWORD_DEV","DBASE_DATABASE_DEV","connection","createPool","usernameField","passwordField","passReqToCallback","req","done","get","then","results","stringify","data","allowed","verifyPassword","catch","serializeUser","deserializeUser","mysqlSessionStore","sessionConnection","sessionStore","clearExpired","expiration","genid","store","secret","SESSION_SECRET","resave","saveUninitialized","initialize","res","next","locals","forwarded","console","log","Date","toISOString","sessionID","method","originalUrl","on","statusCode","statusMessage","static","listen","Router","api","status","redirect","albums","login","media","users","send","all","range","single","limit","query","fields","from","params","to","distance","length","mergeParams","post","authenticate","err","info","queryStg","app_routes","ReactDOMServer","ReactRouterDOM","App","default","html","renderToString","url","state","verifyAuthentication","auth","setState","history","push","routeProps","handleLogin","withRouter","Landing","show_login","show_register","onLogin","contStyle","pageStyle","alignItems","justifyContent","marginLeft","marginRight","logoStyle","margin","introStyle","textAlign","handleHeaderBtnClick","LoginForm","is_email_bad","is_password_bad","redirectTo","handleEmailChange","bind","handlePasswordChange","handleFormSubmit","event","val","target","value","bad","preventDefault","pathname","formStyle","inputStyle","emailClass","passClass","UserHomeContainer","is_image_focused","zoomed_image","show_albums","show_tags","show_upload","fetch","temp_media","i","file","src_file","filePath","hashFilename","thumb","thumbnailFilename","prevState","image","handleCloseClick","handleImageClick","ImageTilesList","onImageClick","ImageTile","marginBottom","overflow","imgStyle","maxWidth","maxHeight","objectFit","imgSrc","filename","originalFilename","PureComponent","MediaZoom","onCloseClick","position","flexDirection","top","left","bottom","right","color","zIndex","padding","boxShadow","vidStyle","spanStyle","paddingTop","image_source","isVideo","type","UploadMedia","img_selected","handleUploadInputChange","e","files","URL","createObjectURL","uploadColStyle","uploadImageTilesDivStyle","TagSelectable","AutoSizer","List","UploadImageTilesList","items_count","item_size","overflowY","listStyle","outline","itemsPerRow","Math","floor","rowCount","ceil","index","key","style","items","fromIndex","toIndex","min","src","Object","assign","handleScroll","UploadImageTile","UploadImageDetails","imgRef","createRef","current","naturalWidth","naturalHeight","closeStyle","alignSelf","detailsHeaderStyle","detailsStyle","float","Tags"],"mappings":"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","file":"server.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 9);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap b6c1405a92ff060ef876","module.exports = require(\"react\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react\"\n// module id = 0\n// module chunks = 0","module.exports = require(\"express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express\"\n// module id = 1\n// module chunks = 0","module.exports = require(\"react-router-dom\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-router-dom\"\n// module id = 2\n// module chunks = 0","module.exports = require(\"axios\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"axios\"\n// module id = 3\n// module chunks = 0","const crypto = require('crypto');\r\n\r\nclass User{\r\n    constructor(props){\r\n        let inputs = JSON.parse(props)[0];\r\n        if(!inputs) inputs = JSON.parse(props);\r\n        if(!inputs) throw error(`Can not initialize User object from given props: ${props}`);\r\n        //console.log(inputs);\r\n        //console.log(JSON.parse(props));\r\n        this.id = inputs.id;\r\n        this.name = inputs.name;\r\n        this.email = inputs.email;\r\n        this.password = inputs.password;\r\n        this.salt = inputs.salt;\r\n        this.requiresPasswordReset = inputs.requiresPasswordReset;\r\n        //console.log(`ID: ${this.id} name: ${this.name} email: ${this.email} password: ${this.password} salt: ${this.salt}`);\r\n    }\r\n    verifyPassword(input){\r\n        if(this.password === null || this.password === \"\" || this.salt === null || this.salt === \"\"\r\n        || input === null || input === \"\"){\r\n            return JSON({message: \"Password and input can not be empty or null\"});\r\n        }\r\n        let saltedInput = this.salt + input;\r\n        let hash = crypto.createHash('sha512').update(saltedInput).digest('hex');\r\n        //console.log(`Input: ${input}, hash: ${hash}, password: ${this.password}, match?: ${hash === this.password}`);\r\n        return hash === this.password;\r\n    }\r\n    setPassword(input){\r\n        let salt = crypto.randomBytes(32).toString('hex');\r\n        let saltedPass = salt + input;\r\n        this.password = crypto.createHash('sha512').update(saltedPass).digest('hex');\r\n        //console.log(`Input: ${input}, salt: ${salt}, password: ${this.password}`);\r\n    }\r\n}\r\n\r\nmodule.exports = User;\n\n\n// WEBPACK FOOTER //\n// ./src/models/user.js","module.exports = require(\"passport\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"passport\"\n// module id = 5\n// module chunks = 0","import React from 'react';\r\n\r\nexport default class Header extends React.Component{\r\n    handleBtnClick(name){\r\n        this.props.onBtnClick(name);\r\n    }\r\n    \r\n    render(){\r\n        const headerStyle={\r\n            display: \"flex\",\r\n            flexFlow: \"row wrap\",\r\n            width: \"100%\",\r\n            height: \"2em\",\r\n            background: \"#ebebeb\",\r\n            lineHeight: \"2em\",\r\n            fontSize: \"1.25em\",\r\n            paddingLeft: \"0.5em\",\r\n            paddingRight: \"0.5em\"\r\n        };\r\n        const titleStyle = {\r\n            paddingRight: \"1em\"\r\n        };\r\n\r\n        return(\r\n            <div style={headerStyle}>\r\n                <div className={\"headerBtn\"} style={titleStyle} onClick={()=>this.handleBtnClick('home')}>Black Eagle Software CMS</div>\r\n                {this.props.isAuthenticated && \r\n                    <div className={\"headerBtn\"} onClick={()=>this.handleBtnClick('tags')}>Tags</div>\r\n                }\r\n                {this.props.isAuthenticated &&\r\n                    <div className={\"headerBtn\"} onClick={()=>this.handleBtnClick('albums')}>Albums</div>\r\n                }\r\n                \r\n                <div style={{flex: \"1 1 auto\"}}>\r\n                    {/*\r\n                        this is our spacer to separate things from the left and right of the header\r\n                        ...because flex is awesome\r\n                    */}\r\n                </div>\r\n                {this.props.isAuthenticated &&\r\n                    <div className={\"headerBtn\"} onClick={()=>this.handleBtnClick('upload')}>Upload</div>\r\n                }\r\n                {this.props.isAuthenticated &&\r\n                    <div className={\"headerBtn\"} onClick={()=>this.handleBtnClick('profile')}>Username</div>\r\n                }\r\n                {!this.props.isAuthenticated &&\r\n                    <div className={\"headerBtn\"} onClick={()=>this.handleBtnClick('login')}>Login</div>\r\n                }\r\n                {!this.props.isAuthenticated &&\r\n                    <div className={\"headerBtn\"} onClick={()=>this.handleBtnClick('register')}>Register</div>\r\n                }\r\n            </div>            \r\n        );\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/header.component.js","import React from 'react';\r\nimport TagSelectable from './tag-selectable.component';\r\n\r\nexport default class TagsSelectableList extends React.Component{\r\n    render(){\r\n        return(\r\n            <div>\r\n                {this.props.tags.map(tag=>{\r\n                    return <TagSelectable key={tag.id} description={tag.description}/>\r\n                })}\r\n            </div>\r\n        );\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/tags-selectable-list.component.js","module.exports = require(\"uuid/v4\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"uuid/v4\"\n// module id = 8\n// module chunks = 0","/* \r\n    A lot of this is taken from here: https://medium.com/@evangow/server-authentication-basics-express-sessions-passport-and-curl-359b7456003d\r\n    It is incredibly informative and useful.\r\n*/\r\n\r\nconst express = require('express');\r\nconst app = express();\r\nconst bodyParser = require('body-parser');\r\nconst routes = require('./routes');\r\nconst mysql = require('mysql');\r\nconst uuid = require('uuid/v4');\r\nconst session = require('express-session');\r\nrequire('dotenv').config();\r\nconst passport = require('passport');\r\nconst localStrategy = require('passport-local').Strategy;\r\nconst axios = require('axios');\r\nconst User = require('./models/user');\r\n\r\napp.use(bodyParser.urlencoded({ extended: true }));\r\napp.use(bodyParser.json());\r\n\r\nvar env = process.env;\r\n\r\nvar port = env.PORT || 8080;    //set our port\r\n\r\n//configure mysql connection to database\r\nlet config = env.IS_PRODUCTION === \"true\" ? {   //.env variables are always string\r\n    host: env.DBASE_HOST_PROD,\r\n    user: env.DBASE_USER_PROD,\r\n    password: env.DBASE_PASSWORD_PROD,\r\n    database: env.DBASE_DATABASE_PROD,\r\n    connectionLimit: 100\r\n} : {\r\n    host: env.DBASE_HOST_DEV,\r\n    user: env.DBASE_USER_DEV,\r\n    password: env.DBASE_PASSWORD_DEV,\r\n    database: env.DBASE_DATABASE_DEV,\r\n    connectionLimit: 100\r\n};\r\nvar connection = mysql.createPool(config);    //connection pool for all dbase interactions\r\n\r\n//configure passport to use our local strategy\r\npassport.use(new localStrategy(\r\n    { \r\n        usernameField: 'email',\r\n        passwordField: 'password',\r\n        passReqToCallback: true\r\n    },\r\n    (req, email, password, done)=>{\r\n        axios.get(`http://localhost:8080/api/users?email=${email}`).then(results=>{\r\n            //email exists in the database, so now check the password\r\n            //console.log(results.data[0]);\r\n            results = JSON.stringify(results.data[0]);\r\n            let user = new User(results);\r\n            let allowed = user.verifyPassword(password);\r\n            if(!allowed){\r\n                return done(null, false, {message: 'Wrong or invalid password specified'});\r\n            } else {            \r\n                return done(null, user);\r\n            }\r\n        }).catch(error => done(error));\r\n    }\r\n));\r\npassport.serializeUser((user, done)=>{\r\n    done(null, user.id);\r\n});\r\npassport.deserializeUser((id, done)=>{\r\n    axios.get(`http://localhost:8080/api/users/${id}`).then(results=>{\r\n        //console.log(results.data[0]);\r\n        results = JSON.stringify(results.data[0]);\r\n        done(null, results);\r\n    }).catch(error => done(error, false));\r\n});\r\n\r\n//configure our session-store in the database\r\nvar mysqlSessionStore = require('express-mysql-session')(session);\r\nvar sessionConnection = connection;\r\nvar sessionStore = new mysqlSessionStore({clearExpired: true, expiration: 3600000}, sessionConnection);\r\n\r\n//add & configure sessions\r\napp.use(session({\r\n    genid:(req)=>{\r\n        //console.log('Inside the session middleware');\r\n        //console.log(req.sessionID);\r\n        return uuid();\r\n    },\r\n    name: 'besCMS.sid',\r\n    store: sessionStore,\r\n    secret: env.SESSION_SECRET,\r\n    resave: false,\r\n    saveUninitialized: true\r\n}));\r\napp.use(passport.initialize());\r\napp.use(passport.session());\r\n\r\n//configure the database connection\r\napp.use((req, res, next)=>{\r\n    //from here: https://github.com/mysqljs/mysql#pooling-connections\r\n    //every result gets a reference to the dbase connection pool\r\n    //res.locals.connection.query(\"\",(error, results, fields)=>{});\r\n    //if need multiple serial queries, do things by hand:\r\n    //res.locals.connection.getConnection((err, connection)=>{\r\n    //  if(err) throw err;\r\n    //  connection.query(\"\", (error, results, fields)=>{\r\n    //      //make additional queries here    \r\n    //      connection.release();   //release connection when done\r\n    //      if(error) throw error;\r\n    //      //do any remaining tasks  \r\n    //  })        \r\n    //})\r\n    res.locals.connection = connection;\r\n    next();\r\n});\r\n\r\napp.use((req, res, next)=>{\r\n    //req.uuid = uuid();\r\n    let host = req.get('x-forwarded-host') || '';\r\n    let forwarded = req.get('x-forwarded-for') || '';\r\n\r\n    //console.log(req.headers);\r\n    console.log(`${new Date().toISOString()} [${req.sessionID}, ${host}, ${forwarded}] < ${req.method} ${req.originalUrl}`);\r\n    res.on('finish', ()=>{\r\n        console.log(`${new Date().toISOString()} [${req.sessionID}, ${host}, ${forwarded}] > ${res.statusCode} ${res.statusMessage} ${res.get('Content-Length') || 0}b sent`);\r\n    });\r\n    next();\r\n});\r\n\r\napp.use(express.static(\"public\"));\r\n\r\napp.use('/', routes);\r\n\r\napp.listen(port, ()=>{\r\n    console.log(`Server now running on port: ${port}`);\r\n});\n\n\n// WEBPACK FOOTER //\n// ./src/server.js","module.exports = require(\"body-parser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"body-parser\"\n// module id = 10\n// module chunks = 0","const routes = require('express').Router();\r\nconst api = require('./api');\r\nconst app = require('./app');\r\n\r\n/*const albums = require('./albums');\r\nconst login = require('./login');\r\nconst media = require('./media');\r\nconst tags = require('./tags');\r\nconst users = require('./users');\r\n\r\nroutes.get('/api', (req, res)=>{\r\n    res.status(200).json({ message: \"Connected!\" });\r\n});\r\n\r\nroutes.get('/credentials/check', (req, res)=>{\r\n    console.log(req.isAuthenticated());\r\n    req.isAuthenticated() ? res.status(200).send() : res.status(403).send();\r\n});*/\r\n\r\nroutes.get('/home', (req, res)=>{\r\n    console.log(`Can see user home: ${req.isAuthenticated()}`);\r\n    if(req.isAuthenticated()){\r\n        res.status(200);\r\n    }else{\r\n        res.redirect('/');\r\n    }\r\n});\r\n\r\n/*routes.use('/api/albums', albums);\r\nroutes.use('/api/a', albums);\r\n\r\nroutes.use('/api/login', login);\r\n\r\nroutes.use('/api/media', media);\r\nroutes.use('/api/m', media);\r\n\r\nroutes.use('/api/tags', tags);\r\nroutes.use('/api/t', tags);\r\n\r\nroutes.use('/api/users', users);\r\nroutes.use('/api/u', users);*/\r\n\r\nroutes.use('/api', api);\r\nroutes.use('/', app);\r\n\r\nmodule.exports = routes;\n\n\n// WEBPACK FOOTER //\n// ./src/routes/index.js","const api = require('express').Router();\r\nconst albums = require('./albums');\r\nconst login = require('./login');\r\nconst media = require('./media');\r\nconst tags = require('./tags');\r\nconst users = require('./users');\r\n\r\napi.get('/', (req, res)=>{\r\n    res.status(200).json({ message: \"Connected!\" });\r\n});\r\n\r\napi.get('/credentials/check', (req, res)=>{\r\n    console.log(req.isAuthenticated());\r\n    req.isAuthenticated() ? res.status(200).send() : res.status(403).send();\r\n});\r\n\r\napi.use('/albums', albums);\r\napi.use('/a', albums);\r\n\r\napi.use('/login', login);\r\n\r\napi.use('/media', media);\r\napi.use('/m', media);\r\n\r\napi.use('/tags', tags);\r\napi.use('/t', tags);\r\n\r\napi.use('/users', users);\r\napi.use('/u', users);\r\n\r\nmodule.exports = api;\n\n\n// WEBPACK FOOTER //\n// ./src/routes/api.js","const albums = require('express').Router();\r\nconst all = require('./all');\r\nconst range = require('./range');\r\nconst single = require('./single');\r\n\r\nconst media = require('./media');\r\n\r\nalbums.get('/', all);    //handles limits as well\r\nalbums.get('/:from-:to', range);\r\nalbums.get('/:id', single);\r\n\r\nalbums.use('/:id/media', media);\r\nalbums.use('/:id/m', media);\r\n\r\nmodule.exports = albums;\n\n\n// WEBPACK FOOTER //\n// ./src/routes/albums/index.js","module.exports = (req, res)=>{\r\n    let limit = req.query.limit * 1;\r\n    if(limit){\r\n        res.locals.connection.query(\"SELECT * FROM albums ORDER BY id DESC LIMIT ?\", [limit], (error, results, fields)=>{\r\n            if(error) throw error;\r\n            res.status(200).send(JSON.stringify(results));\r\n            //res.locals.connection.end();\r\n        });\r\n    }else{\r\n        res.locals.connection.query(\"SELECT * FROM albums\", (error, results, fields)=>{\r\n            if(error) throw error;\r\n            res.status(200).send(JSON.stringify(results));            \r\n            //res.locals.connection.end();\r\n        });\r\n    }\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/routes/albums/all.js","module.exports = (req, res)=>{\r\n    let from = req.params.from * 1;\r\n    let to = req.params.to * 1;\r\n    let distance = to - from;\r\n    res.locals.connection.query(\"SELECT * FROM albums ORDER BY id ASC LIMIT ?, ?\", [from, distance + 1], (error, results, fields)=>{\r\n        if(error) throw error;\r\n        res.status(200).send(JSON.stringify(results));\r\n        //res.locals.connection.end();\r\n    });\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/routes/albums/range.js","module.exports = (req, res)=>{\r\n    res.locals.connection.query(\"SELECT * FROM albums WHERE id=?\", [req.params.id], (error, results, fields)=>{\r\n        if(error) throw error;\r\n        if(results.length === 0){\r\n            res.status(404).send(\"Invalid album ID specified\");\r\n        }else{\r\n            res.status(200).send(JSON.stringify(results));\r\n        }\r\n        //res.locals.connection.end();\r\n    });\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/routes/albums/single.js","const media = require('express').Router({ mergeParams: true });\r\nconst all = require('./all');\r\nconst range = require('./range');\r\n\r\nmedia.get('/', all);\r\nmedia.get('/:from-:to', range);\r\n\r\nmodule.exports = media;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/routes/albums/media/index.js","module.exports = (req, res)=>{\r\n    let query = \"SELECT * FROM media m INNER JOIN albumsToMediaMap amm ON m.id = amm.media WHERE amm.album = ?\";\r\n    res.locals.connection.query(query, [req.params.id], (error, results, fields)=>{\r\n        if(error) throw error;\r\n        res.status(200).send(JSON.stringify(results));            \r\n        //res.locals.connection.end();\r\n    });\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/routes/albums/media/all.js","module.exports = (req, res)=>{\r\n    let from = req.params.from * 1;\r\n    let to = req.params.to * 1;\r\n    let distance = to - from;\r\n    let query = \"SELECT * FROM media m INNER JOIN albumsToMediaMap amm ON m.id = amm.media WHERE amm.album = ? ORDER BY amm.albumIndex ASC LIMIT ?, ?\";\r\n    res.locals.connection.query(query, [req.params.id, from, distance + 1], (error, results, fields)=>{\r\n        if(error) throw error;\r\n        if(results.length === 0){\r\n            res.status(404).send(\"Invalid album ID specified or no media exists\");\r\n        }else{\r\n            res.status(200).send(JSON.stringify(results));            \r\n        }\r\n        //res.locals.connection.end();\r\n    });\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/routes/albums/media/range.js","const User = require('../../models/user');\r\nconst login = require('express').Router();\r\nconst passport = require('passport');\r\n\r\n\r\nlogin.get('/', (req, res)=>{\r\n    console.log(req.sessionID);\r\n    res.send('Login page')\r\n});\r\n\r\nlogin.post('/', (req, res, next)=>{\r\n    //attempted login.  check if they're a valid user from here.\r\n    //console.log(req.body);\r\n    /*res.locals.connection.query(\"SELECT * FROM users WHERE email=?\", [req.body.email], (error, results, fields)=>{\r\n        if(error) throw error;\r\n        if(results.length === 0){\r\n            res.status(404).send(\"Invalid user email specified\");\r\n        }else{\r\n            //email exists in the database, so now check the password\r\n            let user = new User(JSON.stringify(results));\r\n            let allowed = user.verifyPassword(req.body.password);\r\n            if(!allowed){\r\n                res.status(401).send(\"Invalid password specified\");\r\n            } else {            \r\n                res.status(200).send(\"Login successful\");            \r\n            }\r\n        }\r\n        res.locals.connection.end();\r\n    });*/\r\n    passport.authenticate('local', (err, user, info)=>{\r\n        if(info) {\r\n            return res.send(info.message); \r\n        }\r\n        if(err){\r\n            return next(err);\r\n        }\r\n        if(!user){\r\n            return res.redirect('/');   //questionable\r\n        }\r\n        console.log(`req.session.passport ${JSON.stringify(req.session.passport)}`);\r\n        console.log(`req.user ${JSON.stringify(req.user)}`);\r\n        req.login(user, (err)=>{\r\n            if(err){\r\n                return next(err);\r\n            }\r\n            console.log(`req.session.passport ${JSON.stringify(req.session.passport)}`);\r\n            console.log(`req.user ${JSON.stringify(req.user)}`);\r\n            return res.status(200).send('Logged in');\r\n        });\r\n    })(req, res, next);    \r\n});\r\n\r\nmodule.exports = login;\n\n\n// WEBPACK FOOTER //\n// ./src/routes/login/index.js","module.exports = require(\"crypto\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"crypto\"\n// module id = 21\n// module chunks = 0","const media = require('express').Router();\r\nconst all = require('./all');\r\nconst range = require('./range');\r\nconst single = require('./single');\r\n\r\nconst tags = require('./tags');\r\n\r\nmedia.get('/', all);    //handles limits as well\r\nmedia.get('/:from-:to', range);\r\nmedia.get('/:id', single);\r\n\r\nmedia.use('/:id/tags', tags);\r\nmedia.use('/:id/t', tags);\r\n\r\nmodule.exports = media;\n\n\n// WEBPACK FOOTER //\n// ./src/routes/media/index.js","module.exports = (req, res)=>{\r\n    let limit = req.query.limit * 1;\r\n    if(req.isAuthenticated()){\r\n        if(limit){\r\n            res.locals.connection.query(\"SELECT * FROM media ORDER BY id DESC LIMIT ?\", [limit], (error, results, fields)=>{\r\n                if(error) throw error;\r\n                res.status(200).send(JSON.stringify(results));\r\n                //res.locals.connection.end();\r\n            });\r\n        }else{\r\n            res.locals.connection.query(\"SELECT * FROM media\", (error, results, fields)=>{\r\n                if(error) throw error;\r\n                res.status(200).send(JSON.stringify(results));            \r\n                //res.locals.connection.end();\r\n            });\r\n        }\r\n    }else{\r\n        //this should only return media that are public-viewable\r\n        //might need limit implementation too\r\n        //public media are tagged with only public tags\r\n        let queryStg = \"SELECT * FROM media m INNER JOIN tagsToMediaMap tmm ON m.id = tmm.media INNER JOIN tagsToAccessLevelMap tam ON tmm.tag = tam.tagId WHERE tam.accessLevel = 'Public' ORDER BY id ASC\";\r\n        if(limit){\r\n            res.locals.connection.query(queryStg + \" LIMIT ?\", [limit], (error, results, fields)=>{\r\n                if(error) throw error;\r\n                res.status(200).send(JSON.stringify(results));\r\n            });\r\n        }else{\r\n            res.locals.connection.query(queryStg, (error, results, fields)=>{\r\n                if(error) throw error;\r\n                res.status(200).send(JSON.stringify(results));\r\n            });\r\n        }\r\n    }\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/routes/media/all.js","module.exports = (req, res)=>{\r\n    let from = req.params.from * 1;\r\n    let to = req.params.to * 1;\r\n    let distance = to - from;\r\n    res.locals.connection.query(\"SELECT * FROM media ORDER BY id ASC LIMIT ?, ?\", [from, distance + 1], (error, results, fields)=>{\r\n        if(error) throw error;\r\n        res.status(200).send(JSON.stringify(results));\r\n        //res.locals.connection.end();\r\n    });\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/routes/media/range.js","module.exports = (req, res)=>{\r\n    res.locals.connection.query(\"SELECT * FROM media WHERE id=?\", [req.params.id], (error, results, fields)=>{\r\n        if(error) throw error;\r\n        if(results.length === 0){\r\n            res.status(404).send(\"Invalid media ID specified\");\r\n        }else{\r\n            res.status(200).send(JSON.stringify(results));\r\n        }\r\n        //res.locals.connection.end();\r\n    });\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/routes/media/single.js","const tags = require('express').Router({ mergeParams: true });\r\nconst all = require('./all');\r\n\r\ntags.get('/', all);\r\n\r\nmodule.exports = tags;\n\n\n// WEBPACK FOOTER //\n// ./src/routes/media/tags/index.js","module.exports = (req, res)=>{\r\n    let query = \"SELECT * FROM tags t INNER JOIN tagsToMediaMap tmm ON t.id = tmm.tag WHERE tmm.media=?\";\r\n    res.locals.connection.query(query, [req.params.id], (error, results, fields)=>{\r\n        if(error) throw error;\r\n        if(results.length === 0){\r\n            res.status(404).send(\"Invalid media ID specified or no tags exist\");\r\n        }else{\r\n            res.status(200).send(JSON.stringify(results));            \r\n        }\r\n        //res.locals.connection.end();\r\n    });\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/routes/media/tags/all.js","const tags = require('express').Router();\r\nconst all = require('./all');\r\nconst range = require('./range');\r\nconst single = require('./single');\r\n\r\ntags.get('/', all); //handles limits as well\r\ntags.get('/:from-:to', range);\r\ntags.get('/:id', single);\r\n\r\nmodule.exports = tags;\n\n\n// WEBPACK FOOTER //\n// ./src/routes/tags/index.js","module.exports = (req, res)=>{    \r\n    let limit = req.query.limit * 1;\r\n    if(req.isAuthenticated()){        \r\n        if(limit){\r\n            res.locals.connection.query(\"SELECT * FROM tags ORDER BY description ASC LIMIT ?\", [limit], (error, results, fields)=>{\r\n                if(error) throw error;\r\n                res.status(200).send(JSON.stringify(results));\r\n                //res.locals.connection.end();\r\n            });\r\n        }else{\r\n            res.locals.connection.query(\"SELECT * FROM tags\", (error, results, fields)=>{\r\n                if(error) throw error;\r\n                res.status(200).send(JSON.stringify(results));            \r\n                //res.locals.connection.end();\r\n            });\r\n        }\r\n    }else{\r\n        //this should only return tags that are public-viewable\r\n        //might need limit implementation too\r\n        let queryStg = \"SELECT * FROM tags t INNER JOIN tagsToAccessLevelMap tam ON t.id = tam.tagId WHERE tam.accessLevel = 'Public' ORDER BY description ASC\";\r\n        if(limit){\r\n            res.locals.connection.query(queryStg + \" LIMIT ?\", [limit], (error, results, fields)=>{\r\n                if(error) throw error;\r\n                res.status(200).send(JSON.stringify(results));\r\n            });\r\n        }else{\r\n            res.locals.connection.query(queryStg, (error, results, fields)=>{\r\n                if(error) throw error;\r\n                res.status(200).send(JSON.stringify(results));\r\n            });\r\n        }\r\n    }\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/routes/tags/all.js","module.exports = (req, res)=>{\r\n    let from = req.params.from * 1;\r\n    let to = req.params.to * 1;\r\n    let distance = to - from;\r\n    res.locals.connection.query(\"SELECT * FROM tags ORDER BY id ASC LIMIT ?, ?\", [from, distance + 1], (error, results, fields)=>{\r\n        if(error) throw error;\r\n        res.status(200).send(JSON.stringify(results));\r\n        //res.locals.connection.end();\r\n    });\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/routes/tags/range.js","module.exports = (req, res)=>{\r\n    res.locals.connection.query(\"SELECT * FROM tags WHERE id=?\", [req.params.id], (error, results, fields)=>{\r\n        if(error) throw error;\r\n        if(results.length === 0){\r\n            res.status(404).send(\"Invalid tag ID specified\");\r\n        }else{\r\n            res.status(200).send(JSON.stringify(results));\r\n        }\r\n        //res.locals.connection.end();\r\n    });\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/routes/tags/single.js","const users = require('express').Router();\r\nconst all = require('./all');\r\nconst single = require('./single');\r\n\r\nconst albums = require('./albums');\r\nconst media = require('./media');\r\nconst tags = require('./tags');\r\n\r\nusers.get('/', all);\r\nusers.get('/:id', single);\r\n\r\nusers.use('/:id/albums', albums);\r\nusers.use('/:id/a', albums);\r\nusers.use('/:id/media', media);\r\nusers.use('/:id/m', media);\r\nusers.use('/:id/tags', tags);\r\nusers.use('/:id/t', tags);\r\n\r\nmodule.exports = users;\n\n\n// WEBPACK FOOTER //\n// ./src/routes/users/index.js","module.exports = (req, res)=>{\r\n    let email = req.query.email;\r\n    if(email){\r\n        res.locals.connection.query(\"SELECT * FROM users WHERE email=?\", email, (error, results, fields)=>{\r\n            if(error) return done(error);\r\n            res.status(200).send(JSON.stringify(results));\r\n        });\r\n    }else{\r\n        res.locals.connection.query(\"SELECT * FROM users\", (error, results, fields)=>{\r\n            if(error) throw error;\r\n            res.status(200).send(JSON.stringify(results));                    \r\n            //res.locals.connection.end();\r\n        });\r\n    }\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/routes/users/all.js","//const User = require('../../models/user.js');\r\n\r\nmodule.exports = (req, res)=>{\r\n    //return a specific user\r\n    res.locals.connection.query(\"SELECT * FROM users WHERE id=?\", [req.params.id], (error, results, fields)=>{\r\n        if(error) throw error;\r\n        if(results.length === 0){\r\n            res.status(404).send(\"Invalid user ID specified\");\r\n        }else{\r\n            //let user = new User(JSON.stringify(results));\r\n            //user.verifyPassword(\"Wr3tch3d\");\r\n            //user.setPassword(\"Penis\");\r\n            res.status(200).send(JSON.stringify(results));            \r\n        }\r\n        //res.locals.connection.end();\r\n    });\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/routes/users/single.js","const albums = require('express').Router({ mergeParams: true });\r\nconst all = require('./all');\r\n\r\nalbums.get('/', all);\r\n\r\nmodule.exports = albums;\n\n\n// WEBPACK FOOTER //\n// ./src/routes/users/albums/index.js","module.exports = (req, res)=>{\r\n    res.locals.connection.query(\"SELECT * FROM albums WHERE owner=?\", [req.params.id], (error, results, fields)=>{\r\n        if(error) throw error;\r\n        if(results.length === 0){\r\n            res.status(404).send(\"Invalid user ID specified or no albums exist\");\r\n        }else{\r\n            res.status(200).send(JSON.stringify(results));            \r\n        }\r\n        //res.locals.connection.end();\r\n    });\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/routes/users/albums/all.js","const media = require('express').Router({ mergeParams: true });\r\nconst all = require('./all');\r\nconst range = require('./range');\r\n\r\nmedia.get('/', all);\r\nmedia.get('/:from-:to', range);\r\n\r\nmodule.exports = media;\n\n\n// WEBPACK FOOTER //\n// ./src/routes/users/media/index.js","module.exports = (req, res)=>{\r\n    res.locals.connection.query(\"SELECT * FROM media WHERE owner=?\", [req.params.id], (error, results, fields)=>{\r\n        if(error) throw error;\r\n        if(results.length === 0){\r\n            res.status(404).send(\"Invalid user ID specified or no media exists\");\r\n        }else{\r\n            res.status(200).send(JSON.stringify(results));            \r\n        }\r\n        //res.locals.connection.end();\r\n    });\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/routes/users/media/all.js","module.exports = (req, res)=>{\r\n    let from = req.params.from * 1;\r\n    let to = req.params.to * 1;\r\n    let distance = to - from;\r\n    res.locals.connection.query(\"SELECT * FROM media WHERE owner=? ORDER BY id ASC LIMIT ?, ?\", [req.params.id, from, distance + 1], (error, results, fields)=>{\r\n        if(error) throw error;\r\n        if(results.length === 0){\r\n            res.status(404).send(\"Invalid user ID specified or no media exists\");\r\n        }else{\r\n            res.status(200).send(JSON.stringify(results));            \r\n        }\r\n        //res.locals.connection.end();\r\n    });\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/routes/users/media/range.js","const tags = require('express').Router({ mergeParams: true });\r\nconst all = require('./all');\r\n\r\ntags.get('/', all);\r\n\r\nmodule.exports = tags;\n\n\n// WEBPACK FOOTER //\n// ./src/routes/users/tags/index.js","module.exports = (req, res)=>{\r\n    res.locals.connection.query(\"SELECT * FROM tags WHERE owner=?\", [req.params.id], (error, results, fields)=>{\r\n        if(error) throw error;\r\n        if(results.length === 0){\r\n            res.status(404).send(\"Invalid user ID specified or no tags exist\");\r\n        }else{\r\n            res.status(200).send(JSON.stringify(results));            \r\n        }\r\n        //res.locals.connection.end();\r\n    });\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/routes/users/tags/all.js","const app_routes = require('express').Router();\r\n\r\nconst React = require('react');\r\nconst ReactDOMServer = require('react-dom/server');\r\nconst ReactRouterDOM = require('react-router-dom');\r\nconst App = require('../app/app').default;\r\n\r\napp_routes.get('/', (req, res)=>{\r\n    //var html = \"<h1>I hate this at times.</h1>\";\r\n    //console.log(App);\r\n    const html = ReactDOMServer.renderToString(\r\n    <ReactRouterDOM.StaticRouter location={req.url} context={{}}>\r\n        <App />\r\n    </ReactRouterDOM.StaticRouter>\r\n    );\r\n    //console.log(html);\r\n    res.status(200).send(`\r\n    <!DOCTYPE html>\r\n    <html>\r\n        <head>\r\n            <title>Black Eagle Software CMS</title>\r\n            <link rel=\"shortcut icon\" href=\"favicon-16x16.png\">\r\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\">\r\n            <link rel=\"stylesheet\" href=\"global.css\">\r\n            <script src=\"/bundle.js\" defer></script>            \r\n        </head>\r\n        <body>\r\n            <div id=\"app\">${html}</div>            \r\n        </body>\r\n    </html>\r\n    `);\r\n});\r\n\r\nmodule.exports = app_routes;\n\n\n// WEBPACK FOOTER //\n// ./src/routes/app.js","module.exports = require(\"react-dom/server\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-dom/server\"\n// module id = 43\n// module chunks = 0","import React from 'react';\r\nimport { Route, Switch, Redirect, withRouter } from 'react-router-dom';\r\nimport axios from 'axios';\r\n//import AuthRoute from './components/authRoute.component';\r\nimport Landing from './containers/landing.container';\r\nimport UserHomeContainer from './containers/user-home.container';\r\n\r\nclass App extends React.Component {\r\n  constructor(props){\r\n    super(props);\r\n    \r\n    this.state = {\r\n      isAuthenticated: false\r\n    };\r\n  }\r\n  handleLogin(){\r\n    //return <Redirect to='/home'/>\r\n    this.verifyAuthentication();    \r\n  }\r\n  verifyAuthentication(){\r\n    axios.get('/api/credentials/check').then(res=>{\r\n      console.log(res.status);\r\n      let auth = this.state.isAuthenticated;\r\n      if(res.status === 200){\r\n          if(!auth){  //needs to handle admin access\r\n            this.setState({isAuthenticated: true}, ()=>{\r\n              this.props.history.push('/home'); //go to '/' on logout\r\n            });            \r\n          }\r\n      } else{\r\n          this.setState({isAuthenticated: false}, ()=>{\r\n            this.props.history.push('/');\r\n          });          \r\n      }\r\n    });\r\n  }\r\n  componentDidMount(){\r\n    //this.verifyAuthentication();\r\n  }\r\n  render(){\r\n    return(\r\n      <Switch>\r\n        <Route exact path='/' render={(props, routeProps)=>(<Landing {...props} {...routeProps} onLogin={()=>this.handleLogin()}/>)} />\r\n        {/*<Route path='/home' component={UserHomeContainer} />*/}\r\n        {/*<Route path='/home' render={(props)=>(\r\n          this.state.isAuthenticated ? <UserHomeContainer {...props}/> : <Redirect to='/'/>\r\n        )} />*/}\r\n        {/*<AuthRoute path='/home' component={UserHomeContainer}/>*/}\r\n        {/*<AuthRoute path='/home' isAuthenticated={this.state.isAuthenticated} render={(props)=>(<UserHomeContainer isAuthenticated={this.state.isAuthenticated} {...props}/>)}/>*/}\r\n        <Route path='/home' render={(props)=>(<UserHomeContainer isAuthenticated={this.state.isAuthenticated} {...props}/>)}/>\r\n        <Route path='/admin' render={()=>(<div>This is the Admin page</div>)} />\r\n        {/*<Route render={()=>(<div>Sorry, this page does not exist.</div>)} />*/}\r\n      </Switch>      \r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(App);\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.js","import React from 'react';\r\nimport Header from '../components/header.component';\r\nimport LoginForm from '../components/login-form.component';\r\n\r\nexport default class Landing extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            show_login: false,\r\n            show_register: false\r\n        };        \r\n    }\r\n    handleHeaderBtnClick(name){\r\n        switch (name){\r\n            case 'home': break;\r\n            case 'login': \r\n                        this.setState({show_login: true});\r\n                        break;\r\n            case 'register': break;\r\n            case 'default': break;\r\n        }\r\n    }\r\n    handleLogin(){\r\n        this.props.onLogin();   //go to the user's home page\r\n    }    \r\n    \r\n    render(){\r\n        const contStyle = {\r\n            display: \"flex\",\r\n            flexFlow: \"row wrap\"\r\n        };\r\n        const pageStyle = {\r\n            display: \"flex\",\r\n            flexFlow: \"column wrap\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n            marginLeft: \"1em\",\r\n            marginRight: \"1em\",\r\n            width: \"100%\",\r\n            height: \"100%\"\r\n        };        \r\n\r\n        const logoStyle = {\r\n            display: \"block\",\r\n            width: \"10em\",\r\n            margin: \"0 auto 1em\"\r\n        };        \r\n\r\n        const introStyle = {\r\n            fontSize: \"1.5em\",\r\n            textAlign: \"center\"\r\n        };\r\n\r\n        return(\r\n            <div id={\"content\"} style={contStyle}>\r\n                <Header isAuthenticated={false} onBtnClick={(name)=>this.handleHeaderBtnClick(name)}/>\r\n                <div style={pageStyle}>\r\n                    <img style={logoStyle} src=\"Logo 3a_resized.png\" />\r\n                    {!this.state.show_login && !this.state.show_register && \r\n                        <div style={introStyle}>\r\n                            Welcome to the Black Eagle Software CMS.  \r\n                            <br/>\r\n                            Please login or register to continue.\r\n                        </div>\r\n                    }\r\n                    {this.state.show_login &&\r\n                        <LoginForm onLogin={()=>this.handleLogin()}/>\r\n                    }\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/containers/landing.container.js","import React from 'react';\r\nimport axios from 'axios';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nexport default class LoginForm extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            email: \"\",\r\n            is_email_bad: true,\r\n            password: \"\",\r\n            is_password_bad: true,\r\n            redirectTo: null\r\n        };\r\n\r\n        this.handleEmailChange = this.handleEmailChange.bind(this);\r\n        this.handlePasswordChange = this.handlePasswordChange.bind(this);\r\n        this.handleFormSubmit = this.handleFormSubmit.bind(this);\r\n    }\r\n    \r\n    handleEmailChange(event){\r\n        let val = event.target.value;\r\n        let bad = val === \"\";\r\n        this.setState({email: val, is_email_bad: bad});\r\n    }\r\n    handlePasswordChange(event){\r\n        let val = event.target.value;\r\n        let bad = val === \"\";\r\n        this.setState({password: val, is_password_bad: bad});\r\n    }\r\n    handleFormSubmit(event){\r\n        if(this.state.email === \"\" || this.state.password === \"\"){\r\n            return;\r\n        }\r\n        let data = {email: this.state.email, password: this.state.password};\r\n        console.log(data);\r\n        axios.post(\"/api/login\", data).then(res=>{\r\n            if(res.status === 200){\r\n                this.setState({redirectTo: '/home'});\r\n                this.props.onLogin();\r\n            }\r\n        });\r\n        event.preventDefault();\r\n    }\r\n\r\n    render(){\r\n        if(this.state.redirectTo){\r\n            return <Redirect to={{pathname: this.state.redirectTo}}/>\r\n        } else {\r\n            const formStyle = {\r\n                display: \"flex\",\r\n                flexFlow: \"row wrap\",\r\n                alignItems: \"center\",\r\n                justifyContent: \"center\"\r\n            };\r\n\r\n            const inputStyle = {\r\n                width: \"80%\",\r\n                margin: \".25em\",\r\n                fontSize: \"1em\"\r\n            };\r\n\r\n            const emailClass = this.state.is_email_bad ? \"bad_input\" : \"\";\r\n            const passClass = this.state.is_password_bad ? \"bad_input\" : \"\";\r\n\r\n            return(\r\n                <form style={formStyle} onSubmit={this.handleFormSubmit}>\r\n                    <input className={emailClass} style={inputStyle} type='text' name='email' placeholder='Email' required autoFocus onChange={this.handleEmailChange}/>\r\n                    <input className={passClass} style={inputStyle} type='password' name='password' placeholder='Password' required onChange={this.handlePasswordChange}/>\r\n                    <input style={inputStyle} type='submit' value='Log in'/>\r\n                </form>\r\n                );\r\n        }\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/login-form.component.js","import React from 'react';\r\n//import axios from 'axios';\r\nimport Header from '../components/header.component';\r\nimport ImageTilesList from '../components/image-tiles-list.component';\r\nimport MediaZoom from '../components/media-zoom.component';\r\nimport UploadMedia from '../components/upload.component';\r\nimport Tags from '../components/tags.component';\r\n\r\nexport default class UserHomeContainer extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            media: [],\r\n            tags: [],\r\n            is_image_focused: false,\r\n            zoomed_image: {},\r\n            show_albums: false,\r\n            show_tags: false,\r\n            show_upload: false\r\n        };\r\n    }\r\n\r\n    componentDidMount(){\r\n        //read our media from the dbase\r\n        fetch(\"/api/m\")\r\n        .then(data=>data.json())\r\n        .then(res=>{\r\n            let temp_media = [];\r\n            for(let i = 0; i < res.length; i++){\r\n                temp_media.push({file: res[i], src_file: `${res[i].filePath}/${res[i].hashFilename}`, thumb: `${res[i].filePath}/thumbnails/${res[i].thumbnailFilename}`});\r\n            }\r\n            this.setState({media: temp_media});\r\n        });\r\n\r\n        //get our tags list\r\n        fetch(\"/api/t\")\r\n        .then(data=>data.json())\r\n        .then(res=>this.setState({tags: res}));\r\n    }\r\n\r\n    handleHeaderBtnClick(name){\r\n        switch (name){\r\n            case 'ablums': break;\r\n            case 'tags': this.setState(prevState=>({show_tags: !prevState.show_tags}));\r\n                            break;\r\n            case 'upload': this.setState(prevState=>({\r\n                                show_albums: false,\r\n                                show_upload: !prevState.show_upload\r\n                            }));\r\n                            break;\r\n        }\r\n    }\r\n    handleCloseClick(){\r\n        this.setState(prevState=>({\r\n            zoomed_image: {},\r\n            is_image_focused: !prevState.is_image_focused\r\n        }));\r\n    }\r\n    handleImageClick(image){\r\n        this.setState(prevState=>({\r\n            zoomed_image: image,\r\n            is_image_focused: !prevState.is_image_focused\r\n        }));\r\n    }\r\n    \r\n    render(){\r\n        const contStyle = {\r\n            display: \"flex\",\r\n            flexFlow: \"row wrap\",\r\n            alignItems: \"flex-start\"\r\n        };\r\n        const pageStyle = {\r\n            height: \"100%\",\r\n            marginLeft: \"1em\",\r\n            marginRight: \"1em\"\r\n        };\r\n\r\n        return(\r\n            <div id={\"content\"} style={contStyle}>\r\n                {this.state.is_image_focused &&\r\n                    <MediaZoom image_source={this.state.zoomed_image} onCloseClick={()=>this.handleCloseClick()}/>\r\n                }                \r\n                <Header isAuthenticated={this.props.isAuthenticated} onBtnClick={(name)=>this.handleHeaderBtnClick(name)}/>\r\n                {this.state.show_tags && \r\n                    <Tags tags={this.state.tags}/>\r\n                }\r\n                {this.state.media && !this.state.show_upload &&\r\n                    <div style={pageStyle}>\r\n                        <h2>Recent Media</h2>\r\n                        <ImageTilesList media={this.state.media} onImageClick={(image)=>this.handleImageClick(image)}/>\r\n                    </div>\r\n                }\r\n                \r\n                {this.state.show_upload &&\r\n                    <UploadMedia tags={this.state.tags}/>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/containers/user-home.container.js","import React from 'react';\r\nimport ImageTile from './image-tile.component';\r\n\r\nexport default class ImageTilesList extends React.Component{\r\n    handleImageClick(media){\r\n        this.props.onImageClick(media);\r\n    }\r\n    \r\n    render(){\r\n        const contStyle = {\r\n            display: \"flex\",\r\n            flexFlow: \"row wrap\",\r\n            justifyContent: \"flex-start\"\r\n        }       \r\n\r\n        return(\r\n            <div style={contStyle}>\r\n                {this.props.media.map(media=>{\r\n                    //const imgSrc = `${media.filePath}/thumbnails/${media.thumbnailFilename}`\r\n                    \r\n                    return <ImageTile key={media.file.id} media={media} onImageClick={(image)=>this.handleImageClick(image)}/>\r\n                })}\r\n            </div>\r\n        );\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/image-tiles-list.component.js","import React from 'react';\r\n\r\nexport default class ImageTile extends React.PureComponent{\r\n    handleImageClick(media){\r\n        this.props.onImageClick(media);\r\n    }\r\n    \r\n    render(){\r\n        /*const contStyle = {\r\n            display: \"inline-block\",\r\n            marginRight: \"1em\",\r\n            marginBottom: \"1em\"\r\n        };*/\r\n        const contStyle = {\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n            marginRight: \"1em\",\r\n            marginBottom: \"1em\",\r\n            width: \"12.5em\",\r\n            height: \"12.5em\",\r\n            overflow: \"hidden\"\r\n        };\r\n\r\n        const imgStyle = {\r\n            flex: \"1 1 auto\",\r\n            maxWidth: \"12.5em\",\r\n            maxHeight: \"12.5em\",\r\n            objectFit: \"contain\"    //necessary?\r\n        }\r\n\r\n        const imgSrc = this.props.media.thumb;\r\n        const filename = this.props.media.file.originalFilename;\r\n\r\n        return(\r\n            <div style={contStyle} className={\"tile-bg\"} onClick={()=>this.handleImageClick(this.props.media)}>\r\n                <img style={imgStyle} src={imgSrc} alt={filename} />\r\n            </div>\r\n        );\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/image-tile.component.js","import React from 'react';\r\n\r\n//get image_source, onCloseClick\r\n\r\nexport default class MediaZoom extends React.Component{\r\n    handleCloseClick(){\r\n        this.props.onCloseClick();\r\n    }\r\n\r\n    render(){\r\n        const contStyle = {\r\n            position: \"absolute\",\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n            top: \"0px\", \r\n            left: \"0px\",\r\n            bottom: \"0px\",\r\n            right: \"0px\",\r\n            background: \"rgba(15, 15, 15, 0.98)\",\r\n            color: \"#f5f5f5\",\r\n            zIndex: \"500\",\r\n            padding: \"70px\"\r\n        };\r\n\r\n        const imgStyle = {\r\n            maxWidth: \"100%\",\r\n            maxHeight: \"100%\",\r\n            boxShadow: \"0 8px 16px 0 rgba(0, 0, 0, 0.2), 0 12px 40px 0 rgba(0, 0, 0, 0.2)\"\r\n        };\r\n        const vidStyle = {\r\n            maxWidth: \"100%\",\r\n            maxHeight: \"100%\",\r\n            boxShadow: \"0 8px 16px 0 rgba(0, 0, 0, 0.2), 0 12px 40px 0 rgba(0, 0, 0, 0.2)\"\r\n        };\r\n\r\n        const spanStyle = {\r\n            paddingTop: \"1em\",\r\n            fontSize: \"1.5em\"\r\n        };\r\n\r\n        console.log(this.props.image_source);\r\n        //this gets in a type as props.image_source.file.type\r\n        //type is either \"image\" or \"video\"\r\n        //can use that to determine whether to show image \r\n        //or video here in the zoomed viewer\r\n\r\n        const filename = this.props.image_source.file.originalFilename;\r\n        const isVideo = this.props.image_source.file.type === \"video\";\r\n\r\n        return(\r\n            <div  style={contStyle}>\r\n                <div className={\"expand_close\"} onClick={()=>this.handleCloseClick()}></div>\r\n                {!isVideo && \r\n                    <img style={imgStyle} src={this.props.image_source.src_file} alt={filename}/>\r\n                }\r\n                {isVideo && \r\n                    <video style={vidStyle}  autoplay loop controls >\r\n                        <source src={this.props.image_source.src_file}/>\r\n                    </video>\r\n                }\r\n                <span style={spanStyle}>{filename}</span>\r\n            </div>\r\n        );\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/media-zoom.component.js","import React from 'react';\r\nimport TagsSelectableList from './tags-selectable-list.component';\r\nimport UploadImageTilesList from './upload-image-tiles-list.component';\r\nimport UploadImageDetails from './upload-image-details.component';\r\n\r\nexport default class UploadMedia extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            media: [],\r\n            img_selected: null\r\n        };\r\n\r\n        this.handleUploadInputChange = this.handleUploadInputChange.bind(this);\r\n    }\r\n    handleCloseClick(){\r\n        this.setState({img_selected: null});\r\n    }\r\n    handleImageClick(image){\r\n        this.setState({img_selected: image});\r\n    }\r\n    handleUploadInputChange(e){\r\n        let files = e.target.files;\r\n        let temp_media = [];\r\n        for(let i = 0; i < files.length; i++){\r\n            temp_media.push({file: files[i], url: URL.createObjectURL(files[i])});\r\n        }\r\n        this.setState({media: temp_media});\r\n    }\r\n    render(){\r\n        const contStyle = {\r\n            display: \"flex\",\r\n            width: \"100%\",\r\n            height: \"100%\"\r\n        };\r\n        const uploadColStyle = {\r\n            flex: \"0 0 auto\", \r\n            overflow: \"auto\", \r\n            background: \"#1f1f1f\", \r\n            color: \"#f5f5f5\", \r\n            height: \"100%\", \r\n            maxWidth: \"15em\", \r\n            paddingLeft: \"1em\"\r\n        };\r\n        const uploadImageTilesDivStyle = {\r\n            flex: \"1 1 auto\", \r\n            margin: \"0em 0em 2.5em 1em\", \r\n            overflow: \"hidden\", \r\n            paddingTop: \"1em\"\r\n        };\r\n\r\n        return(\r\n            <div style={contStyle}>                \r\n                <div style={uploadColStyle}>\r\n                    <h2>Upload Media</h2>\r\n                    <form id=\"upload-form\" encType=\"multipart/form-data\">\r\n                        <div>\r\n                            <label>Select files to upload:\r\n                                <br/><input type=\"file\" id=\"upload\" name=\"upload[]\" multiple onChange={this.handleUploadInputChange}/>\r\n                            </label>\r\n                        </div>\r\n                        <h3>Tags:</h3>\r\n                        <TagsSelectableList tags={this.props.tags}/>\r\n                    </form>                \r\n                </div>\r\n                <div style={uploadImageTilesDivStyle}>\r\n                    <UploadImageTilesList media={this.state.media} onImageClick={(image)=>this.handleImageClick(image)}/>\r\n                </div>\r\n                {this.state.img_selected && \r\n                    <UploadImageDetails media={this.state.img_selected} tags={this.props.tags} onCloseClick={()=>this.handleCloseClick()}/>                \r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/upload.component.js","import React from 'react';\r\n\r\nexport default class TagSelectable extends React.Component{\r\n    render(){\r\n        return(\r\n            <div>\r\n                <label><input type=\"checkbox\"/>{this.props.description}</label>\r\n            </div>\r\n        );\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/tag-selectable.component.js","import React from 'react';\r\nimport UploadImageTile from './upload-image-tile.component';\r\nconst {AutoSizer, List} = require('react-virtualized');\r\n\r\nconst uuid = require('uuid/v4');\r\n\r\nexport default class UploadImageTilesList extends React.Component{\r\n\r\n    handleImageClick(media){\r\n        this.props.onImageClick(media);\r\n    }\r\n    \r\n    render(){        \r\n        const items_count = this.props.media.length;\r\n        const item_size = 200;\r\n\r\n        const contStyle = {\r\n            display: \"flex\",\r\n            flexFlow: \"row wrap\",\r\n            justifyContent: \"flex-start\",\r\n            paddingTop: \"1em\",\r\n            maxHeight: \"100%\",\r\n            overflowY: \"auto\"\r\n        };\r\n        const listStyle = {\r\n            outline: \"none\"\r\n        };\r\n\r\n        return(\r\n            <AutoSizer>\r\n                {({height, width})=>{\r\n                    const itemsPerRow = Math.floor(width/item_size);\r\n                    const rowCount = Math.ceil(items_count/itemsPerRow);\r\n\r\n                    return(\r\n                        <List \r\n                            width={width}\r\n                            height={height}\r\n                            rowCount={rowCount}\r\n                            rowHeight={item_size + 16}\r\n                            style={listStyle}\r\n                            rowRenderer={({index, key, style})=>{\r\n                                const items = [];\r\n                                const fromIndex = index * itemsPerRow;\r\n                                const toIndex = Math.min(fromIndex + itemsPerRow, items_count);\r\n\r\n                                for(let i = fromIndex; i < toIndex; i++){\r\n                                    let media = this.props.media[i];\r\n                                    items.push(\r\n                                        <UploadImageTile \r\n                                            key={uuid()} \r\n                                            imgSrc={media.url} \r\n                                            filename={media.file.name} \r\n                                            onImageClick={()=>this.handleImageClick({media: media, src: media.url})}/>\r\n                                    )\r\n                                }\r\n                                return(\r\n                                    <div key={key} style={Object.assign({}, style, {display: \"flex\"})}>{items}</div>\r\n                                )\r\n                            }}\r\n                        />\r\n                    )\r\n                }}\r\n            </AutoSizer>\r\n        );\r\n        return(\r\n            <div style={contStyle} onScroll={()=>this.handleScroll()}>\r\n                {/*this.props.media.map(media=>{\r\n                    return <UploadImageTile key={uuid()} imgSrc={media.url} filename={media.file.name} onImageClick={()=>this.handleImageClick({media: media, src: media.url})} update={this.state.update_tiles}/>\r\n                })*/}\r\n            </div>\r\n        );\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/upload-image-tiles-list.component.js","import React from 'react';\r\n//import ReactDOM from 'react-dom';\r\n\r\nexport default class UploadImageTile extends React.PureComponent{\r\n    handleImageClick(){\r\n        this.props.onImageClick();\r\n    }\r\n    \r\n    render(){\r\n        const contStyle = {\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n            marginRight: \"1em\",\r\n            marginBottom: \"1em\",\r\n            width: \"12.5em\",\r\n            height: \"12.5em\",\r\n            overflow: \"hidden\",\r\n            background: \"#ebebeb\"\r\n        };\r\n\r\n        const imgStyle = {\r\n            flex: \"0 1 auto\",\r\n            maxWidth: \"12.5em\",\r\n            maxHeight: \"12.5em\"\r\n        }\r\n        //nope!        \r\n        return(            \r\n            <div style={contStyle} onClick={()=>this.handleImageClick()}>\r\n                {/*<img ref={this.imgRef} style={imgStyle} src={\"data:image/png;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=\"} alt={this.props.filename} />*/}\r\n                <img style={imgStyle} src={this.props.imgSrc} alt={this.props.filename} />\r\n            </div>        \r\n        );\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/upload-image-tile.component.js","module.exports = require(\"react-virtualized\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-virtualized\"\n// module id = 55\n// module chunks = 0","import React from 'react';\r\nimport TagsSelectableList from './tags-selectable-list.component';\r\n\r\nexport default class UploadImageDetails extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state={\r\n            width: 0,\r\n            height: 0\r\n        };\r\n\r\n        this.imgRef = React.createRef();\r\n    }\r\n    componentDidMount(){\r\n        this.setState({\r\n            width: this.imgRef.current.naturalWidth,\r\n            height: this.imgRef.current.naturalHeight\r\n        });\r\n    }\r\n    componentDidUpdate(){\r\n        const width = this.imgRef.current.naturalWidth;\r\n        const height = this.imgRef.current.naturalHeight;\r\n\r\n        if(this.state.width !== width || this.state.height !== height){\r\n            this.setState({\r\n                width: this.imgRef.current.naturalWidth,\r\n                height: this.imgRef.current.naturalHeight\r\n            });\r\n        }\r\n    }\r\n    handleCloseClick(){\r\n        this.props.onCloseClick();\r\n    }\r\n    render(){\r\n        const contStyle = {\r\n            flex: \"0 0 auto\",\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            width: \"50%\",\r\n            background: \"#1f1f1f\",\r\n            color: \"#f5f5f5\",\r\n            padding: \"1em\"\r\n        };\r\n        const closeStyle = {\r\n            position: \"relative\",\r\n            top: \"0px\",\r\n            right: \"0px\",\r\n            alignSelf: \"flex-end\",\r\n            marginBottom: \"1em\"\r\n        };\r\n        const imgStyle = {\r\n            maxHeight: \"50%\",\r\n            objectFit: \"contain\"\r\n        };\r\n        const detailsHeaderStyle = {\r\n            color: \"#666666\"\r\n        };\r\n        const detailsStyle = {\r\n            float: \"right\"\r\n        };\r\n\r\n        const {media} = this.props;\r\n\r\n        return(\r\n            <div style={contStyle}>\r\n                <div className={\"expand_close\"} style={closeStyle} onClick={()=>this.handleCloseClick()}></div>\r\n                <img ref={this.imgRef} src={media.src} style={imgStyle} alt={media.media.file.name}/>\r\n                <div>\r\n                    <span style={detailsHeaderStyle}>Filename:</span><span style={detailsStyle}>{media.media.file.name}</span>\r\n                    <br/><span style={detailsHeaderStyle}>Dimensions:</span><span style={detailsStyle}>{this.state.width} x {this.state.height}</span>\r\n                </div>\r\n                <h3>Tags assigned to this media item:</h3>\r\n                <TagsSelectableList tags={this.props.tags}/>\r\n            </div>\r\n        );\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/upload-image-details.component.js","import React from 'react';\r\n\r\nexport default class Tags extends React.Component{\r\n    render(){\r\n        return(\r\n            <div>\r\n                Tags\r\n            </div>\r\n        )\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/tags.component.js","module.exports = require(\"mysql\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mysql\"\n// module id = 58\n// module chunks = 0","module.exports = require(\"express-session\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express-session\"\n// module id = 59\n// module chunks = 0","module.exports = require(\"dotenv\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"dotenv\"\n// module id = 60\n// module chunks = 0","module.exports = require(\"passport-local\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"passport-local\"\n// module id = 61\n// module chunks = 0","module.exports = require(\"express-mysql-session\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express-mysql-session\"\n// module id = 62\n// module chunks = 0"],"sourceRoot":""}